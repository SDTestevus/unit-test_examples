'use strict';var cov_2efs0fpqre=function(){var path="/Users/adam/Documents/GitHub/unit-test_examples/lib/scan.js",hash="bdfe0e799b40d5c1faa28fab5ff747ac8f01f453",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/Users/adam/Documents/GitHub/unit-test_examples/lib/scan.js",statementMap:{"0":{start:{line:3,column:10},end:{line:3,column:27}},"1":{start:{line:4,column:20},end:{line:4,column:44}},"2":{start:{line:5,column:18},end:{line:5,column:41}},"3":{start:{line:6,column:14},end:{line:6,column:32}},"4":{start:{line:8,column:18},end:{line:8,column:20}},"5":{start:{line:10,column:0},end:{line:35,column:2}},"6":{start:{line:11,column:12},end:{line:17,column:3}},"7":{start:{line:11,column:24},end:{line:17,column:3}},"8":{start:{line:12,column:17},end:{line:12,column:41}},"9":{start:{line:13,column:30},end:{line:13,column:76}},"10":{start:{line:14,column:17},end:{line:14,column:68}},"11":{start:{line:15,column:17},end:{line:15,column:68}},"12":{start:{line:16,column:4},end:{line:16,column:41}},"13":{start:{line:19,column:2},end:{line:34,column:4}},"14":{start:{line:37,column:13},end:{line:43,column:1}},"15":{start:{line:38,column:2},end:{line:38,column:21}},"16":{start:{line:39,column:2},end:{line:39,column:31}},"17":{start:{line:40,column:2},end:{line:40,column:36}},"18":{start:{line:42,column:2},end:{line:42,column:20}},"19":{start:{line:45,column:0},end:{line:45,column:42}},"20":{start:{line:46,column:0},end:{line:46,column:34}},"21":{start:{line:48,column:0},end:{line:67,column:2}},"22":{start:{line:49,column:35},end:{line:49,column:111}},"23":{start:{line:50,column:36},end:{line:50,column:114}},"24":{start:{line:52,column:2},end:{line:54,column:3}},"25":{start:{line:53,column:4},end:{line:53,column:69}},"26":{start:{line:56,column:2},end:{line:58,column:3}},"27":{start:{line:57,column:4},end:{line:57,column:71}},"28":{start:{line:60,column:2},end:{line:64,column:3}},"29":{start:{line:61,column:4},end:{line:61,column:100}},"30":{start:{line:63,column:4},end:{line:63,column:63}},"31":{start:{line:66,column:2},end:{line:66,column:14}},"32":{start:{line:69,column:0},end:{line:74,column:2}},"33":{start:{line:70,column:2},end:{line:70,column:33}},"34":{start:{line:71,column:2},end:{line:71,column:45}},"35":{start:{line:73,column:2},end:{line:73,column:14}},"36":{start:{line:77,column:0},end:{line:79,column:2}},"37":{start:{line:78,column:2},end:{line:78,column:66}},"38":{start:{line:81,column:0},end:{line:89,column:2}},"39":{start:{line:82,column:15},end:{line:82,column:19}},"40":{start:{line:84,column:18},end:{line:86,column:3}},"41":{start:{line:85,column:4},end:{line:85,column:41}},"42":{start:{line:88,column:2},end:{line:88,column:57}},"43":{start:{line:91,column:0},end:{line:93,column:2}},"44":{start:{line:92,column:2},end:{line:92,column:74}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:10,column:25},end:{line:10,column:26}},loc:{start:{line:10,column:52},end:{line:35,column:1}},line:10},"1":{name:"(anonymous_1)",decl:{start:{line:11,column:12},end:{line:11,column:13}},loc:{start:{line:11,column:24},end:{line:17,column:3}},line:11},"2":{name:"(anonymous_2)",decl:{start:{line:11,column:24},end:{line:11,column:25}},loc:{start:{line:11,column:36},end:{line:17,column:3}},line:11},"3":{name:"(anonymous_3)",decl:{start:{line:37,column:30},end:{line:37,column:31}},loc:{start:{line:37,column:59},end:{line:43,column:1}},line:37},"4":{name:"(anonymous_4)",decl:{start:{line:48,column:36},end:{line:48,column:37}},loc:{start:{line:48,column:57},end:{line:67,column:1}},line:48},"5":{name:"(anonymous_5)",decl:{start:{line:69,column:26},end:{line:69,column:27}},loc:{start:{line:69,column:60},end:{line:74,column:1}},line:69},"6":{name:"(anonymous_6)",decl:{start:{line:77,column:23},end:{line:77,column:24}},loc:{start:{line:77,column:42},end:{line:79,column:1}},line:77},"7":{name:"(anonymous_7)",decl:{start:{line:81,column:22},end:{line:81,column:23}},loc:{start:{line:81,column:42},end:{line:89,column:1}},line:81},"8":{name:"(anonymous_8)",decl:{start:{line:84,column:18},end:{line:84,column:19}},loc:{start:{line:84,column:40},end:{line:86,column:3}},line:84},"9":{name:"(anonymous_9)",decl:{start:{line:91,column:30},end:{line:91,column:31}},loc:{start:{line:91,column:42},end:{line:93,column:1}},line:91}},branchMap:{"0":{loc:{start:{line:52,column:2},end:{line:54,column:3}},type:"if",locations:[{start:{line:52,column:2},end:{line:54,column:3}},{start:{line:52,column:2},end:{line:54,column:3}}],line:52},"1":{loc:{start:{line:56,column:2},end:{line:58,column:3}},type:"if",locations:[{start:{line:56,column:2},end:{line:58,column:3}},{start:{line:56,column:2},end:{line:58,column:3}}],line:56},"2":{loc:{start:{line:60,column:2},end:{line:64,column:3}},type:"if",locations:[{start:{line:60,column:2},end:{line:64,column:3}},{start:{line:60,column:2},end:{line:64,column:3}}],line:60}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"d34fc3e6b8297bcde183f5492bcb8fcb36775295"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const _=(cov_2efs0fpqre.s[0]++,require('lodash'));const expressions=(cov_2efs0fpqre.s[1]++,require('./expressions'));const queryBase=(cov_2efs0fpqre.s[2]++,require('./query-base'));const utils=(cov_2efs0fpqre.s[3]++,require('./utils'));const internals=(cov_2efs0fpqre.s[4]++,{});cov_2efs0fpqre.s[5]++;internals.keyCondition=(keyName,schema,scan)=>{cov_2efs0fpqre.f[0]++;cov_2efs0fpqre.s[6]++;const f=operator=>{cov_2efs0fpqre.f[1]++;cov_2efs0fpqre.s[7]++;return function(){cov_2efs0fpqre.f[2]++;const copy=(cov_2efs0fpqre.s[8]++,[].slice.call(arguments));const existingValueKeys=(cov_2efs0fpqre.s[9]++,_.keys(scan.request.ExpressionAttributeValues));const args=(cov_2efs0fpqre.s[10]++,[keyName,operator,existingValueKeys].concat(copy));const cond=(cov_2efs0fpqre.s[11]++,expressions.buildFilterExpression.apply(null,args));cov_2efs0fpqre.s[12]++;return scan.addFilterCondition(cond);};};cov_2efs0fpqre.s[13]++;return{equals:f('='),eq:f('='),ne:f('<>'),lte:f('<='),lt:f('<'),gte:f('>='),gt:f('>'),null:f('attribute_not_exists'),notNull:f('attribute_exists'),contains:f('contains'),notContains:f('NOT contains'),in:f('IN'),beginsWith:f('begins_with'),between:f('BETWEEN')};};const Scan=(cov_2efs0fpqre.s[14]++,module.exports=function(table,serializer){cov_2efs0fpqre.f[3]++;cov_2efs0fpqre.s[15]++;this.table=table;cov_2efs0fpqre.s[16]++;this.serializer=serializer;cov_2efs0fpqre.s[17]++;this.options={loadAll:false};cov_2efs0fpqre.s[18]++;this.request={};});cov_2efs0fpqre.s[19]++;Scan.prototype=Object.create(queryBase);cov_2efs0fpqre.s[20]++;Scan.prototype.constructor=Scan;cov_2efs0fpqre.s[21]++;Scan.prototype.addFilterCondition=function(condition){cov_2efs0fpqre.f[4]++;const expressionAttributeNames=(cov_2efs0fpqre.s[22]++,_.merge({},condition.attributeNames,this.request.ExpressionAttributeNames));const expressionAttributeValues=(cov_2efs0fpqre.s[23]++,_.merge({},condition.attributeValues,this.request.ExpressionAttributeValues));cov_2efs0fpqre.s[24]++;if(!_.isEmpty(expressionAttributeNames)){cov_2efs0fpqre.b[0][0]++;cov_2efs0fpqre.s[25]++;this.request.ExpressionAttributeNames=expressionAttributeNames;}else{cov_2efs0fpqre.b[0][1]++;}cov_2efs0fpqre.s[26]++;if(!_.isEmpty(expressionAttributeValues)){cov_2efs0fpqre.b[1][0]++;cov_2efs0fpqre.s[27]++;this.request.ExpressionAttributeValues=expressionAttributeValues;}else{cov_2efs0fpqre.b[1][1]++;}cov_2efs0fpqre.s[28]++;if(_.isString(this.request.FilterExpression)){cov_2efs0fpqre.b[2][0]++;cov_2efs0fpqre.s[29]++;this.request.FilterExpression=`${this.request.FilterExpression} AND (${condition.statement})`;}else{cov_2efs0fpqre.b[2][1]++;cov_2efs0fpqre.s[30]++;this.request.FilterExpression=`(${condition.statement})`;}cov_2efs0fpqre.s[31]++;return this;};cov_2efs0fpqre.s[32]++;Scan.prototype.segments=function(segment,totalSegments){cov_2efs0fpqre.f[5]++;cov_2efs0fpqre.s[33]++;this.request.Segment=segment;cov_2efs0fpqre.s[34]++;this.request.TotalSegments=totalSegments;cov_2efs0fpqre.s[35]++;return this;};cov_2efs0fpqre.s[36]++;Scan.prototype.where=function(keyName){cov_2efs0fpqre.f[6]++;cov_2efs0fpqre.s[37]++;return internals.keyCondition(keyName,this.table.schema,this);};cov_2efs0fpqre.s[38]++;Scan.prototype.exec=function(callback){cov_2efs0fpqre.f[7]++;const self=(cov_2efs0fpqre.s[39]++,this);cov_2efs0fpqre.s[40]++;const runScan=(params,callback)=>{cov_2efs0fpqre.f[8]++;cov_2efs0fpqre.s[41]++;self.table.runScan(params,callback);};cov_2efs0fpqre.s[42]++;return utils.paginatedRequest(self,runScan,callback);};cov_2efs0fpqre.s[43]++;Scan.prototype.buildRequest=function(){cov_2efs0fpqre.f[9]++;cov_2efs0fpqre.s[44]++;return _.merge({},this.request,{TableName:this.table.tableName()});};